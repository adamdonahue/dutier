!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Dutier=e.Dutier||{})}(this,function(e){"use strict";var t={_reducers:{},_handlers:[],_updateState:function(){}},n=function(e){return function(e){var e=Object.assign({},e);return function(t){return e=Object.assign({},e,t)}}(e)},r=function(e){return new Promise(function(n,r){Object.keys(t._reducers).forEach(function(r){new Promise(function(n){return t._reducers[r].call(null,n,t._updateState({}),e)}).then(function(r){JSON.stringify(r)!==JSON.stringify(t._updateState({}))&&n({type:e.type,state:t._updateState(r)})})})})},u=function(e){var n=e.type,r=e.state;return t._handlers.forEach(function(e){void 0!==e&&"function"==typeof e&&e({type:n,state:r})}),{type:n,state:r}},c=function(e){t._handlers.forEach(function(n,r){n===e&&t._handlers.splice(r,1)})};e.createStore=function(e){for(var r=arguments.length,u=Array(r>1?r-1:0),c=1;c<r;c++)u[c-1]=arguments[c];t._reducers=[].concat(u),t._updateState=n(e)},e.dispatch=function(e){return Promise.resolve(e).then(r).then(u)},e.getState=function(){return t._updateState({})},e.combine=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var u=Object.keys(t._reducers).length;n.forEach(function(e){t._reducers[u+1]=e,u++})},e.subscribe=function(e){return t._handlers.push(e),function(){c(e)}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=dutier.min.js.map
