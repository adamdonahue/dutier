var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports={dispatch:b.dispatch,getState:b.getState,createStore:b.createStore,subscribe:b.subscribe,middleware:b.middleware,unsubscribe:b.unsubscribe}:a.Dutier=b}(this,function(a){function b(a){return function(b){var c=d._store.middleware;return"function"==typeof c&&c.call(null,a,Object.assign({},d.mockStoreState)),a}}function c(a){return d._store.components.forEach(function(b){void 0!==b.component&&"function"==typeof b.handler&&b.handler(a)}),a}var d={_store:{state:{},components:[],middleware:{}}};return{subscribe:function(a,b){d._store.components.push({component:a,handler:b})},unsubscribe:function(a){var b=d._store.components;b.forEach(function(c,d){c===a&&b.splice(d,1)})},middleware:function(a){d._store.middleware=a},dispatch:function(a){return Promise.resolve(a).then(b(a)).then(c)},createStore:function(a){Object.assign(d._store.state,a)},getState:function(){return Object.assign({},d._store.state)}}}());