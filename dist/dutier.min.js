var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports={dispatch:b.dispatch,getState:b.getState,createStore:b.createStore,subscribe:b.subscribe,combine:b.combine,unsubscribe:b.unsubscribe}:a.Dutier=b}(this,function(a){function b(a){var b=null,c=d._store.reducer,e=Object.assign({},d._store.state);return Object.keys(c).forEach(function(d){var f=c[d].call(null,e,a);if(f!==e)return b=f;b=f}),Object.assign({},{type:a.type},{state:Object.assign({},e,b)})}function c(a){return d._store.components.forEach(function(b){void 0!==b.component&&"function"==typeof b.handler&&b.handler(a)}),a}var d={_store:{state:{},components:[],reducer:{}}};return{subscribe:function(a,b){d._store.components.push({component:a,handler:b})},unsubscribe:function(a){var b=d._store.components;b.forEach(function(c,d){c===a&&b.splice(d,1)})},middleware:function(a){d._store.middleware=a},dispatch:function(a){return Promise.resolve(a).then(b).then(c)},createStore:function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];c.forEach(function(a,b){return d._store.reducer[b]=a}),Object.assign(d._store.state,a)},combine:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var e=Object.keys(d._store.reducer).length;b.forEach(function(a){return d._store.reducer[e+1]=a})},getState:function(){return Object.assign({},d._store.state)}}}());