var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports={dispatch:b.dispatch,getState:b.getState,createStore:b.createStore,subscribe:b.subscribe,combine:b.combine}:a.Dutier=b}(this,function(a){function b(a){var b=e._store.handlers;b.forEach(function(c,d){c===a&&b.splice(d,1)})}function c(a){var b=e._store.reducer,c=Object.assign({},e._store.state),d=Object.assign(c,e._store._state);return Object.keys(b).forEach(function(f){var g=b[f].call(null,d,a);if(JSON.stringify(g)!==JSON.stringify(d))return void Object.assign(e._store._state,c,g)}),Object.assign({},{type:a.type},{state:Object.assign({},e._store._state)})}function d(a){var b=a.type,c=Object.assign({},e._store._state);return e._store.handlers.forEach(function(a){void 0!==a&&"function"==typeof a&&a({type:b,state:c})}),{type:b,state:c}}var e={_store:{state:{},_state:{},handlers:[],reducer:{}}};return{subscribe:function(a){return e._store.handlers.push(a),function(){b(a)}},dispatch:function(a){return Promise.resolve(a).then(c).then(d)},createStore:function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];c.forEach(function(a,b){return e._store.reducer[b]=a}),Object.assign(e._store.state,a)},combine:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=Object.keys(e._store.reducer).length;b.forEach(function(a){return e._store.reducer[d+1]=a})},getState:function(){return Object.assign({},e._store.state,e._store._state)}}}());